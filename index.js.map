{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict'\n\nexport function fetchData(url = BASE_URL, options = {}) {\n    return fetch(url, options)\n        .then(response => {\n            if (!response.ok) {\n                return new Error(\"Error!\");\n            }\n            return response.json();\n        });\n}","'use strict'\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function showToastError(message = \"Error\") {\n    iziToast.error({\n        position: 'topRight',\n        message: message\n    });\n}\n\nexport function createMarkup(array) {\n    return array.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n        return `<li class=\"gallery-item\">\n            <a\n              class=\"gallery-link\"\n              href=\"${largeImageURL}\"\n            >\n              <img\n                class=\"gallery-image\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n                width=\"360\"\n                height=\"200\"\n              />\n              <ul class=\"gallery-card-list\">\n                <li>\n                  <div class=\"gallery-card-list-info\">\n                    <p class=\"gallery-card-list-info-title\">Likes</p>\n                    <p class=\"gallery-card-list-info-text\">${likes}</p>\n                  </div>\n                </li>\n                <li>\n                  <div class=\"gallery-card-list-info\">\n                    <p class=\"gallery-card-list-info-title\">Views</p>\n                    <p class=\"gallery-card-list-info-text\">${views}</p>\n                  </div>\n                </li>\n                <li>\n                  <div class=\"gallery-card-list-info\">\n                    <p class=\"gallery-card-list-info-title\">Comments</p>\n                    <p class=\"gallery-card-list-info-text\">${comments}</p>\n                  </div>\n                </li>\n                <li>\n                  <div class=\"gallery-card-list-info\">\n                    <p class=\"gallery-card-list-info-title\">Downloads</p>\n                    <p class=\"gallery-card-list-info-text\">${downloads}</p>\n                  </div>\n                </li>\n              </ul>\n            </a>\n          </li>`\n      }).join('');\n}\n","'use strict'\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchData } from \"./js/pixabay-api.js\";\nimport { showToastError, createMarkup } from \"./js/render-functions.js\";\n\nconst API_KEY = \"47390664-00e9f6e051e23aada86cf3665\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nlet searchParams = new URLSearchParams ({\n    key: API_KEY,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n});\n\nconst form = document.querySelector(\".form\");\nconst loading = document.querySelector(\".loading-container\");\nconst gallery = document.querySelector(\".gallery\");\nconst galleryLightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom'\n});\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    searchParams.set(\"q\", event.target.elements.search.value);\n    fillInGallery([]);\n    showLoading();\n\n    fetchData(`${BASE_URL}?${searchParams}`)\n        .then(result => {\n            if (!result.hits.length) {\n                fillInGallery([]);\n                showToastError(\"Sorry, there are no images matching your search query. Please try again!\");\n                return;\n            }\n\n            fillInGallery(result.hits);\n        })\n        .catch(error => showToastError(error.message))\n        .finally(() => {\n            hideLoading();\n        })\n    \n    form.reset();\n}\n\nfunction fillInGallery(array) {\n    gallery.innerHTML = createMarkup(array);\n    galleryLightbox.refresh();\n}\n\nfunction showLoading() {\n    loading.style.display = \"flex\";\n}\n\nfunction hideLoading() {\n    loading.style.display = \"none\";\n}\n"],"names":["fetchData","url","options","response","showToastError","message","iziToast","createMarkup","array","webformatURL","largeImageURL","tags","likes","views","comments","downloads","API_KEY","BASE_URL","searchParams","form","loading","gallery","galleryLightbox","SimpleLightbox","handleSubmit","event","fillInGallery","showLoading","result","error","hideLoading"],"mappings":"6vBAEO,SAASA,EAAUC,EAAM,SAAUC,EAAU,CAAA,EAAI,CACpD,OAAO,MAAMD,EAAKC,CAAO,EACpB,KAAKC,GACGA,EAAS,GAGPA,EAAS,OAFL,IAAI,MAAM,QAAQ,CAGhC,CACT,CCLO,SAASC,EAAeC,EAAU,QAAS,CAC9CC,EAAS,MAAM,CACX,SAAU,WACV,QAASD,CACjB,CAAK,CACL,CAEO,SAASE,EAAaC,EAAO,CAChC,OAAOA,EAAM,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC5E;AAAA;AAAA;AAAA,sBAGOL,CAAa;AAAA;AAAA;AAAA;AAAA,uBAIZD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6DAQkCC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6DAMLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6DAMLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6DAMRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,gBAM/D,EAAE,KAAK,EAAE,CAChB,CC/CA,MAAMC,EAAU,qCACVC,EAAW,2BAEjB,IAAIC,EAAe,IAAI,gBAAiB,CACpC,IAAKF,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,EAED,MAAMG,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAkB,IAAIC,EAAe,aAAc,CACrD,aAAc,IACd,YAAa,OACb,aAAc,MACd,gBAAiB,QACrB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpBP,EAAa,IAAI,IAAKO,EAAM,OAAO,SAAS,OAAO,KAAK,EACxDC,EAAc,CAAE,CAAA,EAChBC,IAEA3B,EAAU,GAAGiB,CAAQ,IAAIC,CAAY,EAAE,EAClC,KAAKU,GAAU,CACZ,GAAI,CAACA,EAAO,KAAK,OAAQ,CACrBF,EAAc,CAAE,CAAA,EAChBtB,EAAe,0EAA0E,EACzF,MACH,CAEDsB,EAAcE,EAAO,IAAI,CACrC,CAAS,EACA,MAAMC,GAASzB,EAAeyB,EAAM,OAAO,CAAC,EAC5C,QAAQ,IAAM,CACXC,GACZ,CAAS,EAELX,EAAK,MAAK,CACd,CAEA,SAASO,EAAclB,EAAO,CAC1Ba,EAAQ,UAAYd,EAAaC,CAAK,EACtCc,EAAgB,QAAO,CAC3B,CAEA,SAASK,GAAc,CACnBP,EAAQ,MAAM,QAAU,MAC5B,CAEA,SAASU,GAAc,CACnBV,EAAQ,MAAM,QAAU,MAC5B"}